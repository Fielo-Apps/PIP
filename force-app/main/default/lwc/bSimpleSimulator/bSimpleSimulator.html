<template>
    <lightning-card title="Simple Simulator" icon-name="utility:matrix">
        <div class="slds-var-m-around_medium">
            <c-b-lookup-field field-name="FieloPLT__Member__c"
                                    field-label="Member"
                                    s-object-name="FieloPLT__Member__c"
                                    type="reference"
                                    reference-to-name-field="Name"
                                    onchange={handleLookupChange}></c-b-lookup-field>
        </div>

        <template if:true={hasObjects}>
            <div class="slds-var-m-around_medium">
                <lightning-combobox
                              class="fielo-form__input-field--incentives-object"
                              name="object"
                              label="Related Object"
                              options={objectOptions}
                              onchange={handleObjectChange}>
                            </lightning-combobox>
            </div>
        </template>

        <template if:true={hasRecords}>
            <div class="slds-var-m-around_medium">
                <lightning-datatable
                          data={relatedRecords}
                          columns={relatedColumns}
                          key-field="Id"
                          onrowselection={handleSelectedRecord}></lightning-datatable>
            </div>
        </template>

        <template if:true={hasSelectedRecords}>
            <div class="slds-var-m-around_medium">
                <lightning-button variant="success" label="Simulate" title="Successful action" onclick={handleSimulate}
                    class="slds-m-left_x-small"></lightning-button>
            </div>
        </template>

        <template if:true={output}>
            <div class="slds-var-m-around_medium">
                {output}
            </div>
        </template>

    </lightning-card>
</template>